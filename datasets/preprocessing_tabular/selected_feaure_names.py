"""
Generate feature_names.json with numerical, single_categorical,
and multi_categorical feature definitions.
"""

import os
import json
from pathlib import Path

# --- Path to save the JSON file ---
FEATURE_NAMES_IN = Path(os.environ["FEATURE_NAMES_IN"])
FEATURE_NAMES_OUT = Path(os.environ["FEATURE_NAMES_OUT"])
FEATURE_NAMES_IN.parent.mkdir(parents=True, exist_ok=True)

input_data = {
    "numerical": [
        'Pulse wave Arterial Stiffness index-2.0',
        'Systolic blood pressure-2.mean',
        'Diastolic blood pressure-2.mean',
        'Pulse rate-2.mean',
        'Body fat percentage-2.0',
        'Whole body fat mass-2.0',
        'Whole body fat-free mass-2.0',
        'Whole body water mass-2.0',
        'Body mass index (BMI)-2.0',
        'Cooked vegetable intake-2.0',
        'Salad / raw vegetable intake-2.0',
        'Cardiac operations performed',
        'Total mass-2.0',
        'Basal metabolic rate-2.0',
        'Impedance of whole body-2.0',
        'Waist circumference-2.0',
        'Hip circumference-2.0',
        'Standing height-2.0',
        'Height-2.0',
        'Sitting height-2.0',
        'Weight-2.0',
        'Ventricular rate-2.0',
        'P duration-2.0',
        'QRS duration-2.0',
        'PQ interval-2.0',
        'RR interval-2.0',
        'PP interval-2.0',
        'Cardiac output-2.0',
        'Cardiac index-2.0',
        'Average heart rate-2.0',
        'Body surface area-2.0',
        'Duration of walks-2.0',
        'Duration of moderate activity-2.0',
        'Duration of vigorous activity-2.0',
        'Time spent watching television (TV)-2.0',
        'Time spent using computer-2.0',
        'Time spent driving-2.0',
        'Heart rate during PWA-2.0',
        'Systolic brachial blood pressure during PWA-2.0',
        'Diastolic brachial blood pressure during PWA-2.0',
        'Peripheral pulse pressure during PWA-2.0',
        'Central systolic blood pressure during PWA-2.0',
        'Central pulse pressure during PWA-2.0',
        'Number of beats in waveform average for PWA-2.0',
        'Central augmentation pressure during PWA-2.0',
        'Augmentation index for PWA-2.0',
        'Cardiac output during PWA-2.0',
        'End systolic pressure during PWA-2.0',
        'End systolic pressure index during PWA-2.0',
        'Stroke volume during PWA-2.0',
        'Mean arterial pressure during PWA-2.0',
        'Cardiac index during PWA-2.0',
        'Sleep duration-2.0',
        'Exposure to tobacco smoke at home-2.0',
        'Exposure to tobacco smoke outside home-2.0',
        'Pack years of smoking-2.0',
        'Pack years adult smoking as proportion of life span exposed to smoking-2.0',
        'LVEDV (mL)',
        'LVESV (mL)',
        'LVSV (mL)',
        'LVEF (%)',
        'LVCO (L/min)',
        'LVM (g)',
        'RVEDV (mL)',
        'RVESV (mL)',
        'RVSV (mL)',
        'RVEF (%)'
    ],
    
    "single_categorical": [
        'Worrier / anxious feelings-2.0',
        'Shortness of breath walking on level ground-2.0',
        'Sex-0.0',
        'Diabetes diagnosis',
        'Heart attack diagnosed by doctor',
        'Angina diagnosed by doctor',
        'Stroke diagnosed by doctor',
        'High blood pressure diagnosed by doctor',
        'Cholesterol lowering medication regularly taken',
        'Blood pressure medication regularly taken',
        'Insulin medication regularly taken',
        'Hormone replacement therapy medication regularly taken',
        'Oral contraceptive pill or minipill medication regularly taken',
        'Pace-maker-2.0',
        'Ever had diabetes (Type I or Type II)-0.0',
        'Long-standing illness, disability or infirmity-2.0',
        'Tense / \'highly strung\'-2.0',
        'Ever smoked-2.0'
        ],


    "multi_categorical": {
        'Sleeplessness / insomnia-2.0': [3, True],
        'Frequency of heavy DIY in last 4 weeks-2.0': [7, False],
        'Alcohol intake frequency.-2.0': [6, True],
        'Processed meat intake-2.0': [6, False],
        'Beef intake-2.0': [6, False],
        'Pork intake-2.0': [6, False],
        'Lamb/mutton intake-2.0': [6, False],
        'Overall health rating-2.0': [4, True],
        'Alcohol usually taken with meals-2.0': [3, False],
        'Alcohol drinker status-2.0': [3, False],
        'Frequency of drinking alcohol-0.0': [5, False],
        'Frequency of consuming six or more units of alcohol-0.0': [5, True],
        'Amount of alcohol drunk on a typical drinking day-0.0': [6, True],
        'Falls in the last year-2.0': [3, True],
        'Weight change compared with 1 year ago-2.0': [3, False],
        'Number of days/week walked 10+ minutes-2.0': [8, False],
        'Number of days/week of moderate physical activity 10+ minutes-2.0': [8, False],
        'Number of days/week of vigorous physical activity 10+ minutes-2.0': [8, False],
        'Usual walking pace-2.0': [3, True],
        'Frequency of stair climbing in last 4 weeks-2.0': [6, False],
        'Frequency of walking for pleasure in last 4 weeks-2.0': [7, False],
        'Duration walking for pleasure-2.0': [8, False],
        'Frequency of strenuous sports in last 4 weeks-2.0': [7, False],
        'Duration of strenuous sports-2.0': [8, False],
        'Duration of light DIY-2.0': [8, False],
        'Duration of heavy DIY-2.0': [8, False],
        'Frequency of other exercises in last 4 weeks-2.0': [7, False],
        'Duration of other exercises-2.0': [8, False],
        'Current tobacco smoking-2.0': [3, False],
        'Past tobacco smoking-2.0': [4, True],
        'Smoking/smokers in household-2.0': [3, False],
        'Smoking status-2.0': [3, False]
    }
}

output_data = {
    "numerical": [
        "Age when attended assessment centre-2.0",
        "Pulse wave Arterial Stiffness index-2.0",
        "Systolic blood pressure-2.mean",
        "Diastolic blood pressure-2.mean",
        "Pulse rate-2.mean",
        "Body fat percentage-2.0",
        "Whole body fat mass-2.0",
        "Whole body fat-free mass-2.0",
        "Whole body water mass-2.0",
        "Body mass index (BMI)-2.0",
        "Cooked vegetable intake-2.0",
        "Salad / raw vegetable intake-2.0",
        "Cardiac operations performed",
        "Total mass-2.0",
        "Basal metabolic rate-2.0",
        "Impedance of whole body-2.0",
        "Waist circumference-2.0",
        "Hip circumference-2.0",
        "Standing height-2.0",
        "Height-2.0",
        "Sitting height-2.0",
        "Weight-2.0",
        "Ventricular rate-2.0",
        "P duration-2.0",
        "QRS duration-2.0",
        "PQ interval-2.0",
        "RR interval-2.0",
        "PP interval-2.0",
        "Cardiac output-2.0",
        "Cardiac index-2.0",
        "Average heart rate-2.0",
        "Body surface area-2.0",
        "Duration of walks-2.0",
        "Duration of moderate activity-2.0",
        "Duration of vigorous activity-2.0",
        "Time spent watching television (TV)-2.0",
        "Time spent using computer-2.0",
        "Time spent driving-2.0",
        "Heart rate during PWA-2.0",
        "Systolic brachial blood pressure during PWA-2.0",
        "Diastolic brachial blood pressure during PWA-2.0",
        "Peripheral pulse pressure during PWA-2.0",
        "Central systolic blood pressure during PWA-2.0",
        "Central pulse pressure during PWA-2.0",
        "Number of beats in waveform average for PWA-2.0",
        "Central augmentation pressure during PWA-2.0",
        "Augmentation index for PWA-2.0",
        "Cardiac output during PWA-2.0",
        "End systolic pressure during PWA-2.0",
        "End systolic pressure index during PWA-2.0",
        "Stroke volume during PWA-2.0",
        "Mean arterial pressure during PWA-2.0",
        "Cardiac index during PWA-2.0",
        "Sleep duration-2.0",
        "Exposure to tobacco smoke at home-2.0",
        "Exposure to tobacco smoke outside home-2.0",
        "Pack years of smoking-2.0",
        "Pack years adult smoking as proportion of life span exposed to smoking-2.0",
        "LVEDV (mL)",
        "LVESV (mL)",
        "LVSV (mL)",
        "LVEF (%)",
        "LVCO (L/min)",
        "LVM (g)",
        "RVEDV (mL)",
        "RVESV (mL)",
        "RVSV (mL)",
        "RVEF (%)",
        "LAV max (mL)",
        "LAV min (mL)",
        "LASV (mL)",
        "LAEF (%)",
        "RAV max (mL)",
        "RAV min (mL)",
        "RASV (mL)",
        "RAEF (%)"
    ],
    "single_categorical": input_data["single_categorical"],  # identical here
    "multi_categorical": input_data["multi_categorical"]      # identical here
}

# Write JSON file
with open(FEATURE_NAMES_IN, 'w') as f:
    json.dump(input_data, f, indent=4)

with open(FEATURE_NAMES_OUT, 'w') as f:
    json.dump(output_data, f, indent=4)

print(f"Input feature names saved to {FEATURE_NAMES_IN}")
print(f"Output feature names saved to {FEATURE_NAMES_OUT}")
